<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Brundavanam — Real Estate</title>

<!-- Bootstrap & Icons -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --brand:#17375a;--accent:#ffd166;--accent2:#fca311;
    --bg:#f7f9fc;--text:#1e2530;--card:#fff;
    --muted:#6b7789;
  }
  [data-theme="dark"]{
    --bg:#0f1217;--text:#e9eef6;--card:#151a21;--brand:#0f2a4a;--muted:#9aa7b9;
  }
  *{box-sizing:border-box}
  html,body{scroll-behavior:smooth}
  body{font-family:Poppins,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--text)}
  .navbar{background:linear-gradient(135deg,var(--brand),#3b6d9a)}
  .navbar-brand{color:var(--accent)!important;font-weight:700;letter-spacing:.4px}
  .navbar .nav-link{color:#fff!important}.navbar .nav-link:hover{color:var(--accent)!important}
  .toggle{color:#fff;border:1px solid rgba(255,255,255,.25);border-radius:999px;padding:.35rem .7rem;cursor:pointer}
  /* HERO */
  .hero{
    min-height:72vh;display:grid;place-items:center;text-align:center;color:#fff;position:relative;overflow:hidden
  }
  .hero::before{
    content:"";position:absolute;inset:0;background:
      linear-gradient(135deg,rgba(15,24,39,.65),rgba(10,19,35,.65)),
      url('https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?q=80&w=1950&auto=format&fit=crop') center/cover no-repeat;
    /* ↑ Swap with any Google Images URL you own rights to */
    filter:saturate(1.05) contrast(1.05)
  }
  .hero > .inner{position:relative;padding:4rem 1rem}
  .hero h1{font-weight:700;font-size:clamp(2rem,4vw,3.2rem)}
  .hero p{opacity:.95}
  .btn-accent{background:var(--accent);color:#15314f;border:none;border-radius:999px;font-weight:600;padding:.8rem 1.4rem}
  .btn-accent:hover{background:var(--accent2);color:#fff}

  /* SECTIONS */
  .section-title{font-weight:700;color:var(--brand)}
  .subtext{color:var(--muted)}

  /* SEARCH / FILTER BAR */
  .filter-wrap{margin-top:-2.8rem}
  .filter-card{
    background:var(--card);border-radius:18px;box-shadow:0 12px 28px rgba(0,0,0,.08);padding:1rem
  }

  /* PROPERTY CARDS */
  .property-card{background:var(--card);border:0;border-radius:18px;overflow:hidden;
    box-shadow:0 8px 22px rgba(0,0,0,.07);transition:transform .2s ease,box-shadow .2s ease}
  .property-card:hover{transform:translateY(-6px);box-shadow:0 14px 30px rgba(0,0,0,.12)}
  .badge-type{position:absolute;top:12px;left:12px}
  .price{font-weight:700;color:#198754}
  .mini-carousel img{height:220px;object-fit:cover}

  /* MAP */
  #map{height:420px;border-radius:18px}

  /* EMI */
  .emi-box{background:var(--card);border-radius:18px;box-shadow:0 6px 16px rgba(0,0,0,.08)}

  /* FOOTER */
  footer{background:var(--brand);color:#fff}

  /* FLOATING WA */
  .wa-float{
    position:fixed;right:18px;bottom:18px;z-index:9999;width:60px;height:60px;border-radius:50%;
    display:flex;align-items:center;justify-content:center;background:#25D366;color:#fff;font-size:28px;
    box-shadow:0 10px 24px rgba(0,0,0,.25);transition:transform .2s ease
  }
  .wa-float:hover{transform:scale(1.08);background:#128C7E}
</style>
</head>
<body>

<!-- NAV -->
<nav class="navbar navbar-expand-lg sticky-top">
  <div class="container">
    <a class="navbar-brand" href="#">Brundavanam</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav"><span class="navbar-toggler-icon"></span></button>
    <div id="nav" class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-2">
        <li class="nav-item"><a class="nav-link" href="#listings">Listings</a></li>
        <li class="nav-item"><a class="nav-link" href="#mapSection">Map</a></li>
        <li class="nav-item"><a class="nav-link" href="#emi">EMI</a></li>
        <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
        <li class="nav-item ms-lg-2"><button id="modeToggle" class="toggle btn btn-sm bg-transparent"><i class="bi bi-moon-stars"></i> <span class="d-none d-sm-inline">Dark</span></button></li>
      </ul>
    </div>
  </div>
</nav>

<!-- HERO -->
<header class="hero">
  <div class="inner container">
    <h1 class="mb-2">Find Your Home in & around Ongole</h1>
    <p class="lead mb-3">Villas • Apartments • Plots — carefully curated by Brundavanam</p>
    <a href="#listings" class="btn btn-accent btn-lg"><i class="bi bi-search"></i> Explore Listings</a>
  </div>
</header>

<!-- SEARCH BAR -->
<div class="container filter-wrap">
  <div class="filter-card">
    <form id="filterForm" class="row g-2 align-items-end">
      <div class="col-12 col-md-4">
        <label class="form-label mb-0">Type</label>
        <select id="typeFilter" class="form-select">
          <option value="all">All</option>
          <option value="Villa">Villa</option>
          <option value="Apartment">Apartment</option>
          <option value="Plot">Plot</option>
        </select>
      </div>
      <div class="col-6 col-md-3">
        <label class="form-label mb-0">Max Price (₹)</label>
        <input id="priceFilter" type="number" class="form-control" placeholder="8000000">
      </div>
      <div class="col-6 col-md-3">
        <label class="form-label mb-0">Bedrooms</label>
        <select id="bedsFilter" class="form-select">
          <option value="any">Any</option>
          <option value="2">2+</option>
          <option value="3">3+</option>
          <option value="4">4+</option>
        </select>
      </div>
      <div class="col-12 col-md-2 d-grid d-md-flex gap-2">
        <button class="btn btn-primary w-100 w-md-auto" type="submit"><i class="bi bi-filter"></i> Apply</button>
        <button id="resetBtn" class="btn btn-outline-secondary w-100 w-md-auto" type="button"><i class="bi bi-arrow-clockwise"></i> Reset</button>
      </div>
    </form>
  </div>
</div>

<!-- LISTINGS -->
<section id="listings" class="container py-5">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="section-title m-0">Featured Listings</h2>
  <!--  <small class="subtext">Tip: click the pin button to focus on map</small>
-->
  </div>
  <div id="cardsRow" class="row g-4"><!-- JS inserts cards --></div>
</section>

<!-- MAP -->
<section id="mapSection" class="container pb-5">
  <h2 class="section-title mb-3">Explore on Map</h2>
  <div id="map" class="shadow-sm"></div>
 <!-- <small class="subtext d-block mt-2">Replace your API key to enable interaction.</small>
-->
</section>

<!-- EMI -->
<section id="emi" class="container pb-5">
  <div class="row g-4">
    <div class="col-lg-6">
      <div class="p-4 p-md-5 emi-box">
        <h2 class="section-title mb-3">EMI Calculator</h2>
        <form id="emiForm" class="row g-3">
          <div class="col-12">
            <label class="form-label">Loan Amount (₹)</label>
            <input id="loanAmt" type="number" class="form-control" value="5000000">
          </div>
          <div class="col-md-6">
            <label class="form-label">Interest (p.a. %)</label>
            <input id="rate" type="number" step="0.01" class="form-control" value="8.5">
          </div>
          <div class="col-md-6">
            <label class="form-label">Tenure (years)</label>
            <input id="years" type="number" class="form-control" value="20">
          </div>
          <div class="col-12 d-flex gap-2">
            <button class="btn btn-primary"><i class="bi bi-calculator"></i> Calculate</button>
            <span id="emiOut" class="align-self-center fw-semibold"></span>
          </div>
        </form>
      </div>
    </div>
    <div class="col-lg-6 d-flex align-items-center">
      <div>
        <h3 class="mb-2">Why Brundavanam?</h3>
        <ul class="subtext">
          <li>Verified titles & approvals</li>
          <li>Transparent pricing — no surprises</li>
          <li>Personalised site visits & hand-holding till handover</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- TESTIMONIALS -->
<section class="container pb-5">
  <h2 class="section-title mb-4">Happy Buyers</h2>
  <div class="row g-4">
    <div class="col-md-6">
      <div class="property-card p-4">
        <p class="mb-1">“Got our first home in Ongole through Brundavanam. Smooth paperwork, clear guidance.”</p>
        <span class="subtext">— Harsha & Nitya</span>
      </div>
    </div>
    <div class="col-md-6">
      <div class="property-card p-4">
        <p class="mb-1">“They shortlisted only genuine options within budget. Highly recommend.”</p>
        <span class="subtext">— Ajay K.</span>
      </div>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section id="contact" class="container pb-5">
  <div class="property-card p-4 p-md-5">
    <h2 class="section-title mb-3">Contact Us</h2>
    <form id="contactForm" class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Your Name</label>
        <input id="cName" type="text" class="form-control" required>
      </div>
      <div class="col-md-6">
        <label class="form-label">Phone / Email</label>
        <input id="cContact" type="text" class="form-control" required>
      </div>
      <div class="col-12">
        <label class="form-label">Message</label>
        <textarea id="cMsg" class="form-control" rows="3" placeholder="I’m interested in ..." required></textarea>
      </div>
      <div class="col-12 d-flex gap-2">
        <button class="btn btn-success" type="button" id="waQuick"><i class="bi bi-whatsapp"></i> WhatsApp Now</button>
        <button class="btn btn-primary" type="submit"><i class="bi bi-send"></i> Send</button>
      <!--  <small class="subtext ms-2 align-self-center">This opens WhatsApp with your message — no backend needed.</small>
    -->
      </div>
    </form>
  </div>
</section>

<!-- FOOTER -->
<footer class="py-4">
  <div class="container d-flex flex-column flex-md-row align-items-center justify-content-between">
    <p class="mb-2 mb-md-0">© 2025 Brundavanam. All rights reserved.</p>
    <div class="d-flex gap-3">
      <a class="link-light text-decoration-none" href="#listings">Listings</a>
      <a class="link-light text-decoration-none" href="#mapSection">Map</a>
      <a class="link-light text-decoration-none" href="#contact">Contact</a>
    </div>
  </div>
</footer>

<!-- Floating WhatsApp -->
<a class="wa-float" href="https://wa.me/917989288815" target="_blank" aria-label="Chat on WhatsApp"><i class="bi bi-whatsapp"></i></a>

<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
/* ------------------ DATA (Replace with your own) ------------------ */
/* You can swap image URLs with any Google Images link you have rights to.
   Mini-carousels accept 3+ images per property. */
const PROPERTIES = [
  {
    id:"BV-101", type:"Villa", price:9500000, beds:4,
    title:"Skyline Villa — Kamepalli",
    photos:[
      "https://images.unsplash.com/photo-1568605114967-8130f3a36994?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1502005229762-cf1b2da7c52f?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1507086182422-97bd7ca241e9?q=80&w=1600&auto=format&fit=crop"
    ],
    lat:15.5815,lng:80.0308, features:["East Facing","Private Garden","2 Car Parks"]
  },
  {
    id:"BA-204", type:"Apartment", price:6200000, beds:2,
    title:"Seabreeze Residency — Ongole",
    photos:[
      "https://images.unsplash.com/photo-1493809842364-78817add7ffb?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1505691723518-36a5ac3b2a59?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1524758631624-e2822e304c36?q=80&w=1600&auto=format&fit=crop"
    ],
    lat:15.5057,lng:80.0499, features:["Gym & Pool","Covered Parking","Power Backup"]
  },
  {
    id:"BP-317", type:"Plot", price:2800000, beds:0,
    title:"Green Meadows Plot — Suburban",
    photos:[
      "https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1519996529931-28324d5a6301?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1425913397330-cf8af2ff40a1?q=80&w=1600&auto=format&fit=crop"
    ],
    lat:15.5119,lng:80.0154, features:["200 sq. yd","HMDA Layout","Corner Plot"]
  },
  {
    id:"BA-221", type:"Apartment", price:7400000, beds:3,
    title:"Central Heights — City Core",
    photos:[
      "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1523217582562-09d0def993a6?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?q=80&w=1600&auto=format&fit=crop"
    ],
    lat:15.5019,lng:80.0416, features:["High Street","Clubhouse","CCTV"]
  },
  {
    id:"BV-133", type:"Villa", price:11500000, beds:5,
    title:"Lakeview Villa — Outskirts",
    photos:[
      "https://images.unsplash.com/photo-1507089947368-19c1da9775ae?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1520880867055-1e30d1cb001c?q=80&w=1600&auto=format&fit=crop",
      "https://images.unsplash.com/photo-1493666438817-866a91353ca9?q=80&w=1600&auto=format&fit=crop"
    ],
    lat:15.5364,lng:80.0219, features:["Deck & Lawn","Kids Play","Servant Room"]
  }
];

/* ------------------ UTIL ------------------ */
const INR = n => new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR',maximumFractionDigits:0}).format(n);

/* ------------------ RENDER CARDS ------------------ */
function renderCards(list){
  const row = document.getElementById('cardsRow'); row.innerHTML='';
  list.forEach((p,i)=>{
    const wa = `https://wa.me/917989288815?text=${encodeURIComponent(
      `Hi Brundavanam, I'm interested in ${p.title} (${p.id}) priced at ${INR(p.price)}.`
    )}`;
    const col=document.createElement('div'); col.className='col-sm-6 col-lg-4';
    const carouselId=`mini-${p.id}`;
    col.innerHTML = `
      <div class="property-card h-100">
        <div class="position-relative">
          <span class="badge text-bg-dark badge-type">${p.type}</span>
          <div id="${carouselId}" class="mini-carousel carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
              ${p.photos.map((ph,idx)=>`
                <div class="carousel-item ${idx===0?'active':''}">
                  <img src="${ph}" class="d-block w-100" alt="${p.title}">
                </div>`).join('')}
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#${carouselId}" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Prev</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#${carouselId}" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
        <div class="p-3">
          <h5 class="mb-1">${p.title}</h5>
          <div class="d-flex justify-content-between align-items-center">
            <div class="price">${INR(p.price)}</div>
            <small class="subtext">${p.beds?`${p.beds} BHK`:'Plot'}</small>
          </div>
          <div class="small subtext mt-2">${p.features.map(f=>`<span class="me-2"><i class="bi bi-dot"></i>${f}</span>`).join('')}</div>
          <div class="d-flex gap-2 mt-3">
            <a class="btn btn-success flex-grow-1" target="_blank" href="${wa}"><i class="bi bi-whatsapp"></i> Enquire</a>
            <button class="btn btn-outline-primary" title="Show on map" onclick='focusMarker(${p.lat},${p.lng})'><i class="bi bi-geo-alt"></i></button>
          </div>
        </div>
      </div>`;
    row.appendChild(col);
  });
}

/* ------------------ FILTERS ------------------ */
function applyFilters(e){
  if(e) e.preventDefault();
  const t = document.getElementById('typeFilter').value;
  const max = parseInt(document.getElementById('priceFilter').value||'0',10);
  const beds = document.getElementById('bedsFilter').value;
  const filtered = PROPERTIES.filter(p=>{
    const okType = t==='all'||p.type===t;
    const okPrice = max? p.price<=max : true;
    const okBeds = beds==='any'||(p.beds>=parseInt(beds,10));
    return okType && okPrice && okBeds;
  });
  renderCards(filtered);
  plotMarkers(filtered);
}
function resetFilters(){
  document.getElementById('typeFilter').value='all';
  document.getElementById('priceFilter').value='';
  document.getElementById('bedsFilter').value='any';
  renderCards(PROPERTIES);
  plotMarkers(PROPERTIES);
}

/* ------------------ CONTACT -> WHATSAPP ------------------ */
function openWAFromForm(){
  const name = document.getElementById("cName").value.trim();
  const contact = document.getElementById("cContact").value.trim();
  const msg = document.getElementById("cMsg").value.trim();
  const text = `Hi Brundavanam, I'm ${name} (${contact}). ${msg}`;
  window.open(`https://wa.me/917989288815?text=${encodeURIComponent(text)}`,'_blank');
}

/* ------------------ EMI CALC ------------------ */
function calcEMI(e){
  e.preventDefault();
  const P=+document.getElementById('loanAmt').value;
  const r=(+document.getElementById('rate').value)/1200;
  const n=(+document.getElementById('years').value)*12;
  if(P>0 && r>0 && n>0){
    const emi = P*r*Math.pow(1+r,n)/(Math.pow(1+r,n)-1);
    document.getElementById('emiOut').textContent="Monthly EMI: "+INR(Math.round(emi));
  }
}

/* ------------------ DARK MODE ------------------ */
const root=document.documentElement;
const saved=localStorage.getItem('theme'); if(saved) root.setAttribute('data-theme', saved);
document.getElementById('modeToggle').addEventListener('click', ()=>{
  const newTheme = root.getAttribute('data-theme')==='dark' ? 'light' : 'dark';
  if(newTheme==='light') root.removeAttribute('data-theme'); else root.setAttribute('data-theme','dark');
  localStorage.setItem('theme', newTheme);
});

/* ------------------ MAP ------------------ */
let gmap, gmarkers=[];
function initMap(){
  const center={lat:15.5057,lng:80.0499}; // Ongole
  gmap = new google.maps.Map(document.getElementById('map'),{
    center, zoom:11, mapId:'BRUND_MAP', clickableIcons:false
  });
  plotMarkers(PROPERTIES);
}
function plotMarkers(list){
  if(!window.google || !gmap) return;
  gmarkers.forEach(m=>m.setMap(null)); gmarkers=[];
  list.forEach(p=>{
    const m = new google.maps.Marker({position:{lat:p.lat,lng:p.lng},map:gmap,title:p.title});
    const wa = `https://wa.me/917989288815?text=${encodeURIComponent('Hi, interested in '+p.title+' ('+p.id+').')}`;
    const iw = new google.maps.InfoWindow({content:`<strong>${p.title}</strong><br><span style="color:#198754">${INR(p.price)}</span><br><a href="${wa}" target="_blank">WhatsApp Enquiry</a>`});
    m.addListener('click',()=>iw.open({anchor:m,map:gmap}));
    gmarkers.push(m);
  });
}
function focusMarker(lat,lng){
  if(!gmap){ location.hash="#mapSection"; return;}
  gmap.setZoom(14); gmap.panTo({lat,lng}); location.hash="#mapSection";
}
window.focusMarker = focusMarker;

/* ------------------ INIT ------------------ */
document.addEventListener('DOMContentLoaded', ()=>{
  renderCards(PROPERTIES);
  document.getElementById('filterForm').addEventListener('submit', applyFilters);
  document.getElementById('resetBtn').addEventListener('click', resetFilters);
  document.getElementById('contactForm').addEventListener('submit', (e)=>{e.preventDefau
